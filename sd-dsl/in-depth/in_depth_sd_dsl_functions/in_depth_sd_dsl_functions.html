<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.267">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="keywords" content="system dynamics, systemdynamics, sd dsl, bptk, bptk-py, python, business simulation">
<meta name="description" content="Overview of the SD DSL functions that are part of the BPTK-Py business simulation framework.">

<title>BPTK_PY - SD DSL Functions</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<link href="../../../sd-dsl/how-to/how_to_sd_user_defined_functions/how_to_sd_user_defined_functions.html" rel="next">
<link href="../../../sd-dsl/in-depth/in_depth_simple_python_library_sd_dsl/in_depth_simple_python_library_sd_dsl.html" rel="prev">
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="../../../styles.css">
<meta property="og:title" content="BPTK_PY - SD DSL Functions">
<meta property="og:description" content="Overview of the SD DSL functions that are part of the BPTK-Py business simulation framework.">
<meta property="og:site-name" content="BPTK_PY">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">SD DSL Functions</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../../../">BPTK_PY</a> 
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../usage/installation.html" class="sidebar-item-text sidebar-link">Installation</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../usage/quickstart.html" class="sidebar-item-text sidebar-link">Quickstart</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../usage/limitations.html" class="sidebar-item-text sidebar-link">Limitations</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../../general/general.html" class="sidebar-item-text sidebar-link">General Information</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../general/in-depth/in_depth_bptk_py_architecture/in_depth_bptk_py_architecture.html" class="sidebar-item-text sidebar-link">Architecture</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../general/in-depth/in_depth_scenarios/in_depth_scenarios.html" class="sidebar-item-text sidebar-link">Scenarios in Depth</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../general/how-to/how_to_accessing_raw_simulation_results/how_to_accessing_raw_simulation_results.html" class="sidebar-item-text sidebar-link">Accessing Raw Simulation Results</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../general/how-to/how_to_advanced_plotting_features/how_to_advanced_plotting_features.html" class="sidebar-item-text sidebar-link">Advanced Plotting Features</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../general/how-to/how_to_develop_dashboards_using_jupyter_widgets/how_to_developing_dashboards_using_juypter_widgets.html" class="sidebar-item-text sidebar-link">Dashboards using Jupyter Widgets</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../general/how-to/how_to_develop_dashboards_using_simpledashboard/how_to_develop_dashboards_using_simpledashboard.html" class="sidebar-item-text sidebar-link">Dashboards using the SimpleDashboard</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../general/how-to/how_to_external_state/how_to_external_state.html" class="sidebar-item-text sidebar-link">Persistent BPTK-Server State</a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../../abm/abm.html" class="sidebar-item-text sidebar-link">Agent Based Modeling</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../abm/in-depth/in_depth_agent_based_modeling/in_depth_agent_based_modeling.html" class="sidebar-item-text sidebar-link">Agent Based Modeling</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../abm/how-to/how_to_choose_datacollector/how_to_choose_datacollector.html" class="sidebar-item-text sidebar-link">Data Collector</a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../../xmile/xmile.html" class="sidebar-item-text sidebar-link">Introduction to XMILE</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../xmile/how-to/how_to_working_with_XMILE/how_to_working_with_XMILE.html" class="sidebar-item-text sidebar-link">XMILE SD Models</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../xmile/how-to/how_to_exporting_simulation_results/how_to_exporting_simulation_results.html" class="sidebar-item-text sidebar-link">Exporting Simulation Results</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../xmile/how-to/how_to_xmile_arrays/how_to_xmile_arrays.html" class="sidebar-item-text sidebar-link">Arrayed Variables in XMILE Models</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../xmile/how-to/how_to_use_sd_compiler_standalone/how_to_use_sd_compiler_standalone.html" class="sidebar-item-text sidebar-link">Use Standalone XMILE Compiler</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../xmile/in-depth/writing_computational_essays/writing_computational_essays.html" class="sidebar-item-text sidebar-link">Writing Computational Essays</a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../../sd-dsl/sddsl.html" class="sidebar-item-text sidebar-link">Introduction to SD DSL</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../step-by-step-guides/introduction_sd_dsl/introduction_sd_dsl.html" class="sidebar-item-text sidebar-link">Introduction to SD DSL</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../sd-dsl/in-depth/in_depth_simple_python_library_sd_dsl/in_depth_simple_python_library_sd_dsl.html" class="sidebar-item-text sidebar-link">BPTK for System Dynamics</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../sd-dsl/in-depth/in_depth_sd_dsl_functions/in_depth_sd_dsl_functions.html" class="sidebar-item-text sidebar-link active">SD DSL Functions</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../sd-dsl/how-to/how_to_sd_user_defined_functions/how_to_sd_user_defined_functions.html" class="sidebar-item-text sidebar-link">User-defined functions</a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#sd-dsl-functions" id="toc-sd-dsl-functions" class="nav-link active" data-scroll-target="#sd-dsl-functions">SD DSL Functions</a>
  <ul class="collapse">
  <li><a href="#if-then-else-and-not-or" id="toc-if-then-else-and-not-or" class="nav-link" data-scroll-target="#if-then-else-and-not-or">IF / THEN / ELSE / AND /NOT / OR</a></li>
  <li><a href="#abs-function" id="toc-abs-function" class="nav-link" data-scroll-target="#abs-function">ABS Function</a></li>
  <li><a href="#delay-function" id="toc-delay-function" class="nav-link" data-scroll-target="#delay-function">DELAY Function</a></li>
  <li><a href="#dt-function" id="toc-dt-function" class="nav-link" data-scroll-target="#dt-function">DT Function</a></li>
  <li><a href="#exp-function" id="toc-exp-function" class="nav-link" data-scroll-target="#exp-function">EXP Function</a></li>
  <li><a href="#max-function" id="toc-max-function" class="nav-link" data-scroll-target="#max-function">MAX Function</a></li>
  <li><a href="#min-function" id="toc-min-function" class="nav-link" data-scroll-target="#min-function">MIN Function</a></li>
  <li><a href="#pulse-function" id="toc-pulse-function" class="nav-link" data-scroll-target="#pulse-function">PULSE Function</a></li>
  <li><a href="#smooth-function" id="toc-smooth-function" class="nav-link" data-scroll-target="#smooth-function">SMOOTH Function</a></li>
  <li><a href="#starttime-function" id="toc-starttime-function" class="nav-link" data-scroll-target="#starttime-function">STARTTIME Function</a></li>
  <li><a href="#stoptime-function" id="toc-stoptime-function" class="nav-link" data-scroll-target="#stoptime-function">STOPTIME Function</a></li>
  <li><a href="#step-function" id="toc-step-function" class="nav-link" data-scroll-target="#step-function">STEP Function</a></li>
  <li><a href="#time-function" id="toc-time-function" class="nav-link" data-scroll-target="#time-function">TIME Function</a></li>
  <li><a href="#trend-function" id="toc-trend-function" class="nav-link" data-scroll-target="#trend-function">TREND Function</a></li>
  <li><a href="#round-function" id="toc-round-function" class="nav-link" data-scroll-target="#round-function">ROUND Function</a></li>
  <li><a href="#sqrt" id="toc-sqrt" class="nav-link" data-scroll-target="#sqrt">SQRT</a></li>
  <li><a href="#nan-inf-pi" id="toc-nan-inf-pi" class="nav-link" data-scroll-target="#nan-inf-pi">NAN / INF / PI</a></li>
  <li><a href="#sin-tan-cos-and-arccos-arcsin-arctan" id="toc-sin-tan-cos-and-arccos-arcsin-arctan" class="nav-link" data-scroll-target="#sin-tan-cos-and-arccos-arcsin-arctan">SIN / TAN / COS and ARCCOS / ARCSIN / ARCTAN</a></li>
  <li><a href="#sinwave-and-coswave-function" id="toc-sinwave-and-coswave-function" class="nav-link" data-scroll-target="#sinwave-and-coswave-function">SINWAVE and COSWAVE function</a></li>
  <li><a href="#beta-function" id="toc-beta-function" class="nav-link" data-scroll-target="#beta-function">BETA Function</a></li>
  <li><a href="#binomial" id="toc-binomial" class="nav-link" data-scroll-target="#binomial">BINOMIAL</a></li>
  <li><a href="#combinations" id="toc-combinations" class="nav-link" data-scroll-target="#combinations">COMBINATIONS</a></li>
  <li><a href="#exprnd-function" id="toc-exprnd-function" class="nav-link" data-scroll-target="#exprnd-function">EXPRND Function</a></li>
  <li><a href="#factorial-function" id="toc-factorial-function" class="nav-link" data-scroll-target="#factorial-function">FACTORIAL Function</a></li>
  <li><a href="#gamma-function" id="toc-gamma-function" class="nav-link" data-scroll-target="#gamma-function">GAMMA Function</a></li>
  <li><a href="#gammaln-function" id="toc-gammaln-function" class="nav-link" data-scroll-target="#gammaln-function">GAMMALN Function</a></li>
  <li><a href="#geometric-function" id="toc-geometric-function" class="nav-link" data-scroll-target="#geometric-function">GEOMETRIC Function</a></li>
  <li><a href="#invnorm-function" id="toc-invnorm-function" class="nav-link" data-scroll-target="#invnorm-function">INVNORM Function</a></li>
  <li><a href="#logistic-function" id="toc-logistic-function" class="nav-link" data-scroll-target="#logistic-function">LOGISTIC Function</a></li>
  <li><a href="#lognormal-function" id="toc-lognormal-function" class="nav-link" data-scroll-target="#lognormal-function">LOGNORMAL Function</a></li>
  <li><a href="#montecarlo-function" id="toc-montecarlo-function" class="nav-link" data-scroll-target="#montecarlo-function">MONTECARLO Function</a></li>
  <li><a href="#normal-function" id="toc-normal-function" class="nav-link" data-scroll-target="#normal-function">NORMAL Function</a></li>
  <li><a href="#normalcdf-function" id="toc-normalcdf-function" class="nav-link" data-scroll-target="#normalcdf-function">NORMALCDF Function</a></li>
  <li><a href="#pareto-function" id="toc-pareto-function" class="nav-link" data-scroll-target="#pareto-function">PARETO Function</a></li>
  <li><a href="#permutations" id="toc-permutations" class="nav-link" data-scroll-target="#permutations">PERMUTATIONS</a></li>
  <li><a href="#poisson-function" id="toc-poisson-function" class="nav-link" data-scroll-target="#poisson-function">POISSON Function</a></li>
  <li><a href="#random-uniform-function" id="toc-random-uniform-function" class="nav-link" data-scroll-target="#random-uniform-function">RANDOM / UNIFORM Function</a></li>
  <li><a href="#triangular-function" id="toc-triangular-function" class="nav-link" data-scroll-target="#triangular-function">TRIANGULAR Function</a></li>
  <li><a href="#weibull-function" id="toc-weibull-function" class="nav-link" data-scroll-target="#weibull-function">WEIBULL Function</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block">SD DSL Functions</h1>
</div>

<div>
  <div class="description">
    Overview of the SD DSL functions that are part of the BPTK-Py business simulation framework.
  </div>
</div>


<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="sd-dsl-functions" class="level1">
<h1>SD DSL Functions</h1>
<p>This document illustrates how to use the operators for the SD DSL. To use the operators, you need to import the <code>sd_functions</code>, in addition to importing the <code>Model</code> class.</p>
<div class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> BPTK_Py <span class="im">import</span> Model</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> BPTK_Py <span class="im">import</span> sd_functions <span class="im">as</span> sd</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> BPTK_Py.bptk <span class="im">import</span> bptk</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>bptk<span class="op">=</span>bptk()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="if-then-else-and-not-or" class="level2">
<h2 class="anchored" data-anchor-id="if-then-else-and-not-or">IF / THEN / ELSE / AND /NOT / OR</h2>
<p>It is possible to write up if clauses. We even support NOT and AND / OR operators.</p>
<p>Please note that these function names begin with a capital letter. This is because the actual words <code>if, and, or</code> etc. are protected in Python and cannot / should not be overwritten.</p>
<p>An if clause requires 3 arguments: <code>If ( &lt;condition&gt; , &lt;then&gt;, &lt;else&gt;)</code></p>
<p><code>condition</code>: Must be a boolean expression, e.g.&nbsp;<code>sd.time() &gt; 1</code> is true iff the simulation time is larger than 1 <code>then</code> : Any expression that returns a float value if the condition is true <code>else</code> : Any expression that returns a float value if the condition is false</p>
<p>A simple if clause may look like this:</p>
<div class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>model <span class="op">=</span> Model(starttime<span class="op">=</span><span class="fl">0.0</span>,stoptime<span class="op">=</span><span class="fl">10.0</span>,dt<span class="op">=</span><span class="fl">0.1</span>,name<span class="op">=</span><span class="st">'if'</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>converter <span class="op">=</span> model.converter(<span class="st">"converter"</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>converter.equation <span class="op">=</span> sd.If( sd.time()<span class="op">&gt;</span><span class="dv">5</span>, <span class="dv">10</span>, <span class="dv">5</span> )</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>converter.plot()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>You see that its value is 5 until <code>t</code> reaches 6.</p>
<p>You can also add <code>and</code> / <code>or</code> / <code>not</code> conditions easily:</p>
<p>Signature: <code>And(&lt;condition1&gt;, &lt;condition2&gt;)</code> : Logical and between 2 conditions <code>Or(&lt;condition1&gt;, &lt;condition2&gt;)</code> : Logical or between 2 conditions <code>Not(&lt;condition&gt;)</code> : Logical not: True if condition is False</p>
<p>Each condition within the operators has to return a boolean value. Nesting of the operators is easily possible!</p>
<div class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>converter.equation <span class="op">=</span> sd.If( sd.And(sd.time()<span class="op">&gt;</span><span class="dv">5</span>,sd.time()<span class="op">&gt;</span><span class="dv">10</span>), <span class="dv">10</span>, <span class="dv">5</span> ) <span class="co"># 5 (else case) as long as t &lt;= 10, then 10</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>converter.equation <span class="op">=</span> sd.If( sd.Or( sd.And(sd.time()<span class="op">&gt;</span><span class="dv">5</span>,sd.time()<span class="op">&gt;</span><span class="dv">10</span>), <span class="va">True</span>), <span class="dv">10</span>, <span class="dv">5</span> ) <span class="co"># Always 10 (then condition, because Or always evaluates to True)</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>converter.plot()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="abs-function" class="level2">
<h2 class="anchored" data-anchor-id="abs-function">ABS Function</h2>
<p>The <code>ABS</code>function returns the absolute value of its input.</p>
<p>Signature: <code>abs(input)</code></p>
<p><code>input</code> may be any model element.</p>
<div class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>model <span class="op">=</span> Model(starttime<span class="op">=</span><span class="fl">0.0</span>,stoptime<span class="op">=</span><span class="fl">10.0</span>,dt<span class="op">=</span><span class="fl">0.1</span>,name<span class="op">=</span><span class="st">'abs'</span>)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>input_converter <span class="op">=</span> model.converter(<span class="st">"input_converter"</span>)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>input_converter.equation<span class="op">=</span>sd.time()<span class="op">-</span><span class="dv">5</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>abs_converter <span class="op">=</span> model.converter(<span class="st">"abs_converter"</span>)</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>abs_converter.equation <span class="op">=</span> sd.<span class="bu">abs</span>(input_converter)</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>bptk.register_model(model)</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>bptk.plot_scenarios(scenario_managers<span class="op">=</span>[<span class="st">"smAbs"</span>],scenarios<span class="op">=</span>[<span class="st">"base"</span>],equations<span class="op">=</span>[<span class="st">"input_converter"</span>,<span class="st">"abs_converter"</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="delay-function" class="level2">
<h2 class="anchored" data-anchor-id="delay-function">DELAY Function</h2>
<p>The DELAY function returns a delayed value of input, using a fixed lag time of delay duration, and an optional initial value initial for the delay. If you don’t specify an initial value initial, DELAY assumes the value to be the initial value of input. If you specify delay duration as a variable, the DELAY function uses the initial value for its fixed lag time</p>
<p>Signature: <code>delay(model, input_function, delay_duration, initial_value)</code></p>
<p><code>input_function</code> must be a model element <code>delay_duration</code> and <code>initial_value</code> must be floats or model elements.</p>
<div class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>model <span class="op">=</span> Model(starttime<span class="op">=</span><span class="fl">0.0</span>,stoptime<span class="op">=</span><span class="fl">10.0</span>,dt<span class="op">=</span><span class="fl">0.5</span>,name<span class="op">=</span><span class="st">'delay'</span>)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>input_function <span class="op">=</span> model.converter(<span class="st">"input_function"</span>)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>input_function.equation<span class="op">=</span>sd.time()</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>delayed_input_1 <span class="op">=</span> model.converter(<span class="st">"delayed_input_1"</span>)</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>delayed_input_2 <span class="op">=</span> model.converter(<span class="st">"delayed_input_2"</span>)</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>delayed_input_3 <span class="op">=</span> model.converter(<span class="st">"delayed_input_3"</span>)</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>delayed_input_1.equation <span class="op">=</span> sd.delay(model,input_function, <span class="fl">1.0</span>,<span class="fl">1.0</span>)</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>delayed_input_2.equation <span class="op">=</span> sd.delay(model,input_function, <span class="fl">2.0</span>,<span class="fl">0.0</span>)</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>delayed_input_3.equation <span class="op">=</span> sd.delay(model,input_function, <span class="fl">2.5</span>,<span class="fl">0.5</span>)</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>bptk.register_model(model)</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>bptk.plot_scenarios(</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>    scenario_managers<span class="op">=</span>[<span class="st">"smDelay"</span>],</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>    scenarios<span class="op">=</span>[<span class="st">"base"</span>],</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>    equations<span class="op">=</span>[<span class="st">"input_function"</span>,<span class="st">"delayed_input_1"</span>,<span class="st">"delayed_input_2"</span>,<span class="st">"delayed_input_3"</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="dt-function" class="level2">
<h2 class="anchored" data-anchor-id="dt-function">DT Function</h2>
<p>The <code>DT</code> function returns the models dt..</p>
<p>Signature: <code>dt(model)</code></p>
<div class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>model <span class="op">=</span> Model(starttime<span class="op">=</span><span class="dv">5</span>,stoptime<span class="op">=</span><span class="dv">12</span>,dt<span class="op">=</span><span class="fl">0.25</span>,name<span class="op">=</span><span class="st">'dt'</span>)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>dt <span class="op">=</span> model.converter(<span class="st">"dt"</span>)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>dt.equation <span class="op">=</span> sd.dt(model)</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>dt.plot()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="exp-function" class="level2">
<h2 class="anchored" data-anchor-id="exp-function">EXP Function</h2>
<p>The <code>exp</code> function returns the exponential value of the input.</p>
<p>Signature: <code>exp(element)</code></p>
<p><code>element</code> can be any model element (stock, flow, converter, constant)</p>
<div class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>model <span class="op">=</span> Model(starttime<span class="op">=</span><span class="dv">0</span>,stoptime<span class="op">=</span><span class="dv">10</span>,dt<span class="op">=</span><span class="fl">0.1</span>,name<span class="op">=</span><span class="st">'exp'</span>)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>growth_rate <span class="op">=</span> model.constant(<span class="st">"growth_rate"</span>)</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>growth_rate.equation<span class="op">=</span>np.log(<span class="dv">2</span>)</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>exp <span class="op">=</span> model.converter(<span class="st">"exp"</span>)</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>exp.equation <span class="op">=</span> sd.exp(growth_rate<span class="op">*</span>sd.time())</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>exp.plot()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="max-function" class="level2">
<h2 class="anchored" data-anchor-id="max-function">MAX Function</h2>
<p>The <code>max</code> function always chooses the larger of its two input values.</p>
<p>Signature: <code>max(element, element)</code></p>
<p><code>element</code> can be any model element (stock, flow, converter, constant)</p>
<div class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>model <span class="op">=</span> Model(starttime<span class="op">=</span><span class="fl">0.0</span>,stoptime<span class="op">=</span><span class="fl">10.0</span>,dt<span class="op">=</span><span class="fl">1.0</span>,name<span class="op">=</span><span class="st">'max'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>a <span class="op">=</span> model.converter(<span class="st">"a"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>a.equation <span class="op">=</span> <span class="fl">5.0</span><span class="op">+</span>sd.step(<span class="fl">5.0</span>, <span class="fl">5.0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>a.plot()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>b <span class="op">=</span> model.converter(<span class="st">"b"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>b.equation<span class="op">=</span> <span class="fl">10.0</span> <span class="op">-</span> sd.step(<span class="fl">5.0</span>, <span class="fl">5.0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>b.plot()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>c <span class="op">=</span> model.converter(<span class="st">"c"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>c.equation<span class="op">=</span>sd.<span class="bu">max</span>(a,b)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>bptk.register_model(model)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>bptk.plot_scenarios(scenario_managers<span class="op">=</span>[<span class="st">"smMax"</span>],scenarios<span class="op">=</span>[<span class="st">"base"</span>],equations<span class="op">=</span>[<span class="st">"a"</span>,<span class="st">"b"</span>,<span class="st">"c"</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="min-function" class="level2">
<h2 class="anchored" data-anchor-id="min-function">MIN Function</h2>
<p>The <code>min</code> function always chooses the smaller of its two input values.</p>
<p>Signature: <code>min(element, element)</code></p>
<p><code>element</code> can be any model element (stock, flow, converter, constant)</p>
<div class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>model <span class="op">=</span> Model(starttime<span class="op">=</span><span class="dv">0</span>,stoptime<span class="op">=</span><span class="dv">10</span>,dt<span class="op">=</span><span class="dv">1</span>,name<span class="op">=</span><span class="st">'min'</span>)</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>a <span class="op">=</span> model.converter(<span class="st">"a"</span>)</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>a.equation <span class="op">=</span> <span class="fl">5.0</span><span class="op">+</span>sd.step(<span class="fl">5.0</span>, <span class="fl">5.0</span>)</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>b <span class="op">=</span> model.converter(<span class="st">"b"</span>)</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>b.equation<span class="op">=</span> <span class="fl">10.0</span> <span class="op">-</span> sd.step(<span class="fl">5.0</span>, <span class="fl">5.0</span>)</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>c <span class="op">=</span> model.converter(<span class="st">"c"</span>)</span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>c.equation <span class="op">=</span> sd.<span class="bu">min</span>(a,b)</span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a>bptk.register_model(model)</span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a>bptk.plot_scenarios(scenario_managers<span class="op">=</span>[<span class="st">"smMin"</span>],scenarios<span class="op">=</span>[<span class="st">"base"</span>],equations<span class="op">=</span>[<span class="st">"a"</span>,<span class="st">"b"</span>,<span class="st">"c"</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="pulse-function" class="level2">
<h2 class="anchored" data-anchor-id="pulse-function">PULSE Function</h2>
<p>The <code>PULSE</code> function generates a pulse input of a specified size (volume). When using the PULSE builtin, you have the option of setting the time at which the PULSE will first fire (first pulse), as well as the interval between subsequent PULSEs. Each time that it fires a pulse, the framework pulses the specified volume over a period of one time step (DT). Thus, the instantaneous value taken on by the PULSE function is volume/DT.</p>
<p>Signature: <code>pulse(model, volume, first_pulse=0, interval=0)</code></p>
<p>Setting <code>interval</code> to 0 yields a single pulse that doesn’t repeat</p>
<p><code>volume</code> can be either a variable or a constant, <code>first_pulse</code> and <code>interval</code> must be constants.</p>
<div class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>model <span class="op">=</span> Model(starttime<span class="op">=</span><span class="fl">0.0</span>,stoptime<span class="op">=</span><span class="fl">10.0</span>,dt<span class="op">=</span><span class="fl">0.25</span>,name<span class="op">=</span><span class="st">'pulse'</span>)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>stock <span class="op">=</span> model.stock(<span class="st">"stock"</span>)</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>stock.initial_value<span class="op">=</span><span class="fl">0.0</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>flow <span class="op">=</span> model.flow(<span class="st">"flow"</span>)</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>flow.equation<span class="op">=</span>sd.pulse(model,<span class="fl">10.0</span>,<span class="fl">2.0</span>,<span class="fl">2.0</span>)</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>stock.equation <span class="op">=</span> flow</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>bptk.register_model(model)</span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>bptk.plot_scenarios(scenario_managers<span class="op">=</span>[<span class="st">"smPulse"</span>],scenarios<span class="op">=</span>[<span class="st">"base"</span>],equations<span class="op">=</span>[<span class="st">"stock"</span>,<span class="st">"flow"</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="smooth-function" class="level2">
<h2 class="anchored" data-anchor-id="smooth-function">SMOOTH Function</h2>
<p>The SMOOTH function calculates the exponential average of the input, given the input function, an initial value and an averaging time.</p>
<p>Signature: <code>smooth(model, input_function, averaging_time, initial_value)</code></p>
<p><code>model</code>: The model you are writing equations for</p>
<p><code>input_function</code>: any model element</p>
<p><code>averaging_time</code>: any model element</p>
<p><code>initial_value</code>: a floating point value or constant</p>
<p>The SMOOTH operator is a shorthand for the following stock and flow structure and equations:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="smooth_model.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Stock and Flow Structure for the TREND Operator</figcaption><p></p>
</figure>
</div>
<div class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>model <span class="op">=</span> Model(starttime<span class="op">=</span><span class="fl">1.0</span>,stoptime<span class="op">=</span><span class="fl">10.0</span>,dt<span class="op">=</span><span class="fl">0.1</span>,name<span class="op">=</span><span class="st">'smooth'</span>)</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>input_function <span class="op">=</span> model.converter(<span class="st">"input_function"</span>)</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>input_function.equation<span class="op">=</span>sd.step(<span class="fl">10.0</span>,<span class="fl">3.0</span>)</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>smooth <span class="op">=</span> model.converter(<span class="st">"smooth"</span>)</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>smooth.equation<span class="op">=</span>sd.smooth(model, input_function,<span class="fl">2.0</span>,<span class="fl">0.0</span>)</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>bptk.register_model(model)</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>bptk.plot_scenarios(scenario_managers<span class="op">=</span>[<span class="st">"smSmooth"</span>],scenarios<span class="op">=</span>[<span class="st">"base"</span>],equations<span class="op">=</span>[<span class="st">"input_function"</span>,<span class="st">"smooth"</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="starttime-function" class="level2">
<h2 class="anchored" data-anchor-id="starttime-function">STARTTIME Function</h2>
<p>The <code>STARTTIME</code> function returns the models starttime.</p>
<p>Signature: <code>starttime(model)</code></p>
<div class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>model <span class="op">=</span> Model(starttime<span class="op">=</span><span class="dv">5</span>,stoptime<span class="op">=</span><span class="dv">12</span>,dt<span class="op">=</span><span class="dv">1</span>,name<span class="op">=</span><span class="st">'starttime'</span>)</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>starttime <span class="op">=</span> model.converter(<span class="st">"starttime"</span>)</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>starttime.equation <span class="op">=</span> sd.starttime(model)</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>starttime.plot()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="stoptime-function" class="level2">
<h2 class="anchored" data-anchor-id="stoptime-function">STOPTIME Function</h2>
<p>The <code>STOPTIME</code> function returns the models starttime.</p>
<p>Signature: <code>stoptime(model)</code></p>
<div class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>model <span class="op">=</span> Model(starttime<span class="op">=</span><span class="dv">5</span>,stoptime<span class="op">=</span><span class="dv">12</span>,dt<span class="op">=</span><span class="dv">1</span>,name<span class="op">=</span><span class="st">'stoptime'</span>)</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>stoptime <span class="op">=</span> model.converter(<span class="st">"stoptime"</span>)</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>stoptime.equation <span class="op">=</span> sd.stoptime(model)</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>stoptime.plot()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="step-function" class="level2">
<h2 class="anchored" data-anchor-id="step-function">STEP Function</h2>
<p>The STEP function generates a change of specified height, which occurs at a specified time.</p>
<p>Signature: <code>step(height, timestep)</code></p>
<p><code>input_function</code>: any model element or a floating point number</p>
<p><code>averaging_time</code>: any model element or a floating point numnber</p>
<p><code>initial_value</code>: a floating point value or a constant</p>
<div class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>model <span class="op">=</span> Model(starttime<span class="op">=</span><span class="dv">1</span>,stoptime<span class="op">=</span><span class="dv">10</span>,dt<span class="op">=</span><span class="dv">1</span>,name<span class="op">=</span><span class="st">'step'</span>)</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>step <span class="op">=</span> model.converter(<span class="st">"step"</span>)</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>step.equation<span class="op">=</span>sd.step(<span class="fl">10.0</span>,<span class="fl">5.0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>step.plot()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="time-function" class="level2">
<h2 class="anchored" data-anchor-id="time-function">TIME Function</h2>
<p>The <code>time</code> function returns the current simulation time.</p>
<p>Signature: <code>time()</code></p>
<div class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>model <span class="op">=</span> Model(starttime<span class="op">=</span><span class="dv">0</span>,stoptime<span class="op">=</span><span class="dv">10</span>,dt<span class="op">=</span><span class="dv">1</span>,name<span class="op">=</span><span class="st">'time'</span>)</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>stock <span class="op">=</span> model.stock(<span class="st">"stock"</span>)</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>stock.initial_value<span class="op">=</span><span class="fl">0.0</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>inflow <span class="op">=</span> model.flow(<span class="st">"inflow"</span>)</span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>inflow.equation <span class="op">=</span> sd.time()</span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>stock.equation <span class="op">=</span> inflow</span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a>inflow.plot()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="trend-function" class="level2">
<h2 class="anchored" data-anchor-id="trend-function">TREND Function</h2>
<p>The TREND function calculates the trend in the input, given the input, an initial value and an averaging time. The TREND is defined to be the fractional change in input compared to the exponential average of input per averaging time. The TREND function thus estimates the growth rate of is input function.</p>
<p>Signature: <code>trend(model, input_function, averaging_time, initial_value)</code></p>
<p><code>model</code>: The model you are writing equations for</p>
<p><code>input_function</code>: any model element</p>
<p><code>averaging_time</code>: any model element</p>
<p><code>initial_value</code>: a floating point value or constant</p>
<p>The TREND operator is a shorthand for the following stock and flow structure and equations:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="trend_model.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Stock and Flow Structure for the TREND Operator</figcaption><p></p>
</figure>
</div>
<div class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>model <span class="op">=</span> Model(starttime<span class="op">=</span><span class="dv">1</span>,stoptime<span class="op">=</span><span class="dv">10</span>,dt<span class="op">=</span><span class="fl">0.01</span>,name<span class="op">=</span><span class="st">'trend'</span>)</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>growth_rate <span class="op">=</span> model.constant(<span class="st">"growth_rate"</span>)</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>growth_rate.equation<span class="op">=</span>np.log(<span class="dv">2</span>)</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>input_function <span class="op">=</span> model.converter(<span class="st">"input_function"</span>)</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>input_function.equation <span class="op">=</span> sd.exp(growth_rate<span class="op">*</span>sd.time())</span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a>trend <span class="op">=</span> model.converter(<span class="st">"trend"</span>)</span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a>trend.equation <span class="op">=</span> sd.trend(model,input_function,<span class="fl">1.0</span>,<span class="dv">2</span><span class="op">/</span>(<span class="dv">1</span><span class="op">+</span>np.log(<span class="dv">2</span>))) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>As an example, we set up a small model that has an input function that doubles every timestep - i.e the exponential growth rate is log 2 ≈ 0.69 and then apply the trend function to estimate the growth rate.</p>
<p>Here is a plot of the growth rate, which is constant:</p>
<div class="cell" data-execution_count="27">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>growth_rate.plot()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This gives an input function which doubles in value on every timestep:</p>
<div class="cell" data-execution_count="28">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>input_function.plot()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>As expexted, the plot of the trend function converges to the input growth rate:</p>
<div class="cell" data-execution_count="29">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>trend.plot()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="round-function" class="level2">
<h2 class="anchored" data-anchor-id="round-function">ROUND Function</h2>
<p>This function rounds any input to a specified number of digits.</p>
<p>Signature: <code>round(expression, digits)</code></p>
<p><code>expression</code> can be any float input by any expression. <code>digits</code> must be an int value</p>
<p>A minimal example that rounds random numbers between 0 and 2 to 0 digits (int number):</p>
<div class="cell" data-execution_count="30">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>model <span class="op">=</span> Model(starttime<span class="op">=</span><span class="fl">0.0</span>,stoptime<span class="op">=</span><span class="fl">10.0</span>,dt<span class="op">=</span><span class="fl">0.25</span>,name<span class="op">=</span><span class="st">'round'</span>)</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>flow <span class="op">=</span> model.flow(<span class="st">"round"</span>)</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>flow.equation <span class="op">=</span> sd.<span class="bu">round</span>( sd.random(<span class="dv">0</span>, <span class="dv">2</span>), <span class="dv">0</span> )</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>flow.plot()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="sqrt" class="level2">
<h2 class="anchored" data-anchor-id="sqrt">SQRT</h2>
<p>Computes the Square root of an input expression.</p>
<p>Signature: <code>sqrt(expression)</code></p>
<p><code>expression</code> can be any element that returns a float value.</p>
<p>Simple Example:</p>
<div class="cell" data-execution_count="31">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>m<span class="op">=</span> Model(starttime<span class="op">=</span><span class="dv">0</span>,stoptime<span class="op">=</span><span class="dv">10</span>,dt<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>f <span class="op">=</span> m.flow(name<span class="op">=</span><span class="st">"sqrt"</span>)</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>val <span class="op">=</span> sd.time() </span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>f.equation <span class="op">=</span> sd.sqrt(val)</span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>f.plot()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="nan-inf-pi" class="level2">
<h2 class="anchored" data-anchor-id="nan-inf-pi">NAN / INF / PI</h2>
<p><code>sd.nan()</code> returns a NAN value, <code>sd.Inf()</code> gives you the infinity value, <code>sd.pi()</code> returns the number pi.</p>
</section>
<section id="sin-tan-cos-and-arccos-arcsin-arctan" class="level2">
<h2 class="anchored" data-anchor-id="sin-tan-cos-and-arccos-arcsin-arctan">SIN / TAN / COS and ARCCOS / ARCSIN / ARCTAN</h2>
<p>The SD DSl supports all trigonometric that you are also used to from other SD simulation / modelling tools</p>
<p>Use <code>sd.sin(x) / sd.cos(x) / sd.tan(x)</code> for sinus, cosinus or tangent of x (radians) and <code>sd.arcsin(x) / sd.arctan(x) / sd.arccos(x)</code> for the respective arctan / arccos and arcsine operators.</p>
<p>Let’s easily plot sin / cos and tan for the current simulation time:</p>
<div class="cell" data-execution_count="32">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>m<span class="op">=</span> Model(starttime<span class="op">=</span><span class="dv">0</span>,stoptime<span class="op">=</span><span class="dv">10</span>,dt<span class="op">=</span><span class="fl">0.1</span>)</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>sin <span class="op">=</span> m.flow(name<span class="op">=</span><span class="st">"sin"</span>)</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>tan <span class="op">=</span> m.flow(name<span class="op">=</span><span class="st">"tan"</span>)</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>cos <span class="op">=</span> m.flow(name<span class="op">=</span><span class="st">"cos"</span>)</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> sd.time() </span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>sin.equation <span class="op">=</span> sd.sin(x)</span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>tan.equation <span class="op">=</span> sd.tan(x)</span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>cos.equation <span class="op">=</span> sd.cos(x)</span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a>sin.plot()</span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a>tan.plot()</span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a>cos.plot()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="sinwave-and-coswave-function" class="level2">
<h2 class="anchored" data-anchor-id="sinwave-and-coswave-function">SINWAVE and COSWAVE function</h2>
<p>SINWAVE returns a time-dependent sine wave, with the specified amplitude and period. To generate the sine wave, the SINWAVE builtin uses the absolute value of the amplitude you specify. To produce meaningful wave results, choose a DT that’s significantly smaller than the period of the wave. A DT equal to a quarter of the period gives triangle waves. A smaller DT gives results which better approximate a continuous curve.</p>
<p>COSWAVE generates a time-dependent <strong>cosine</strong> wave. It uses the same arguments</p>
<p>Signature: <code>sinwave(amplitude,period)</code></p>
<p><code>amplitude</code> : Amplitude of the sine wave <code>period</code> : Period of the sine wave</p>
<p>Example:</p>
<div class="cell" data-execution_count="33">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>m<span class="op">=</span> Model(starttime<span class="op">=</span><span class="dv">0</span>,stoptime<span class="op">=</span><span class="dv">10</span>,dt<span class="op">=</span><span class="fl">0.1</span>)</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>f <span class="op">=</span> m.flow(name<span class="op">=</span><span class="st">"sinwave"</span>)</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>g <span class="op">=</span> m.flow(<span class="st">"coswave"</span>)</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>amplitude <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>period <span class="op">=</span> <span class="dv">5</span></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>f.equation <span class="op">=</span> sd.sinwave(amplitude, period)</span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>g.equation <span class="op">=</span> sd.coswave(amplitude, period)</span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>f.plot()</span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a>g.plot()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="beta-function" class="level2">
<h2 class="anchored" data-anchor-id="beta-function">BETA Function</h2>
<p>The BETA operator generates a series of random numbers that conforms to a beta distribution defined by two shape arguments, <code>alpha</code> and <code>beta</code>.</p>
<p>Example:</p>
<div class="cell" data-execution_count="34">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>m<span class="op">=</span> Model(starttime<span class="op">=</span><span class="dv">0</span>,stoptime<span class="op">=</span><span class="dv">10</span>,dt<span class="op">=</span><span class="fl">0.1</span>)</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>f <span class="op">=</span> m.flow(name<span class="op">=</span><span class="st">"beta"</span>)</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>alpha <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>beta <span class="op">=</span> <span class="dv">2</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>f.equation <span class="op">=</span> sd.beta(alpha, beta)</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>f.plot()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="binomial" class="level2">
<h2 class="anchored" data-anchor-id="binomial">BINOMIAL</h2>
<p>This operator generates a series of random numbers from a discrete probability distribution of the number of successes in a sequence of trials with a given success probability. The success probability should be a number between 0 and 1.</p>
<p>Arguments are <code>number of trials (n)</code> and <code>success probability (p)</code>.</p>
<p>A quick example:</p>
<div class="cell" data-execution_count="35">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>m<span class="op">=</span> Model(starttime<span class="op">=</span><span class="dv">0</span>,stoptime<span class="op">=</span><span class="dv">10</span>,dt<span class="op">=</span><span class="fl">0.1</span>)</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>f <span class="op">=</span> m.flow(name<span class="op">=</span><span class="st">"binomial"</span>)</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>n <span class="op">=</span> <span class="dv">100</span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>p <span class="op">=</span> <span class="fl">0.1</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>f.equation <span class="op">=</span> sd.binomial(n, p)</span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>f.plot()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="combinations" class="level2">
<h2 class="anchored" data-anchor-id="combinations">COMBINATIONS</h2>
<p>The COMBINATIONS operator calculates the number of r-element subsets (or r-combinations) of an n-element set without repetition.</p>
<p>Arguments <code>n</code> and <code>r</code> must follow n &gt;= r &gt;= 0.</p>
<p>Example with <code>time</code> as <code>n</code>:</p>
<div class="cell" data-execution_count="36">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>m<span class="op">=</span> Model(starttime<span class="op">=</span><span class="dv">3</span>,stoptime<span class="op">=</span><span class="dv">10</span>,dt<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>f <span class="op">=</span> m.flow(name<span class="op">=</span><span class="st">"combinations"</span>)</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>n <span class="op">=</span> sd.time()</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>r <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>f.equation <span class="op">=</span> sd.combinations(n,r)</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>f.plot()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="exprnd-function" class="level2">
<h2 class="anchored" data-anchor-id="exprnd-function">EXPRND Function</h2>
<p>This operator generates a series of exponentially distributed random numbers with a given <code>mean</code>.</p>
<p>Example:</p>
<div class="cell" data-execution_count="37">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>m<span class="op">=</span> Model(starttime<span class="op">=</span><span class="dv">0</span>,stoptime<span class="op">=</span><span class="dv">10</span>,dt<span class="op">=</span><span class="fl">0.1</span>)</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>f <span class="op">=</span> m.flow(name<span class="op">=</span><span class="st">"exprnd"</span>)</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>mean <span class="op">=</span> sd.time()</span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>f.equation <span class="op">=</span> sd.exprnd(mean)</span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>f.plot()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="factorial-function" class="level2">
<h2 class="anchored" data-anchor-id="factorial-function">FACTORIAL Function</h2>
<p>The FACTORIAL function calculates the factorial of the single argument <code>n</code> (traditionally noted as n!). <code>n</code> must be an integer value, decimal values are not allowed.</p>
<p>Example:</p>
<div class="cell" data-execution_count="38">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>m<span class="op">=</span> Model(starttime<span class="op">=</span><span class="dv">0</span>,stoptime<span class="op">=</span><span class="dv">10</span>,dt<span class="op">=</span><span class="fl">0.1</span>)</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>f <span class="op">=</span> m.flow(name<span class="op">=</span><span class="st">"factorial"</span>)</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>n <span class="op">=</span> <span class="dv">5</span></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>f.equation <span class="op">=</span> sd.factorial(n)</span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>f.plot()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="gamma-function" class="level2">
<h2 class="anchored" data-anchor-id="gamma-function">GAMMA Function</h2>
<p>The GAMMA builtin generates a series of random numbers that conforms to a gamma distribution with the specified <code>shape</code> and <code>scale</code>. If unspecified, <code>scale</code> uses the value 1.0</p>
<p>Example:</p>
<div class="cell" data-execution_count="39">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>m<span class="op">=</span> Model(starttime<span class="op">=</span><span class="dv">0</span>,stoptime<span class="op">=</span><span class="dv">10</span>,dt<span class="op">=</span><span class="fl">0.1</span>)</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>f <span class="op">=</span> m.flow(name<span class="op">=</span><span class="st">"gamma"</span>)</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>shape <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>scale <span class="op">=</span> sd.time()</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>f.equation <span class="op">=</span> sd.gamma(shape, scale)</span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>f.plot()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="gammaln-function" class="level2">
<h2 class="anchored" data-anchor-id="gammaln-function">GAMMALN Function</h2>
<p>The GAMMALN operator returns the natural log of the GAMMA function, given input n.&nbsp;The GAMMA function is a continuous version of the FACTORIAL builtin, with GAMMA(n) the same as FACTORIAL(n-1).</p>
<p>Only argument is <code>n</code></p>
<div class="cell" data-execution_count="40">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>m<span class="op">=</span> Model(starttime<span class="op">=</span><span class="dv">0</span>,stoptime<span class="op">=</span><span class="dv">10</span>,dt<span class="op">=</span><span class="fl">0.1</span>)</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>f <span class="op">=</span> m.flow(name<span class="op">=</span><span class="st">"gammaln"</span>)</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>n <span class="op">=</span> sd.time()</span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>f.equation <span class="op">=</span> sd.gammaln(n)</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>f.plot()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="geometric-function" class="level2">
<h2 class="anchored" data-anchor-id="geometric-function">GEOMETRIC Function</h2>
<p>The GEOMETRIC operator generates a series of random numbers from a discrete probability distribution of the number of trials before the first success with a given <code>success probability (p)</code>.</p>
<p><code>p</code> is the only parameter. It should be any value between 0 and 1.</p>
<p>Example:</p>
<div class="cell" data-execution_count="41">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>m<span class="op">=</span> Model(starttime<span class="op">=</span><span class="dv">0</span>,stoptime<span class="op">=</span><span class="dv">10</span>,dt<span class="op">=</span><span class="fl">0.1</span>)</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>f <span class="op">=</span> m.flow(name<span class="op">=</span><span class="st">"geometric"</span>)</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>p <span class="op">=</span> <span class="fl">0.1</span></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>f.equation <span class="op">=</span> sd.geometric(p)</span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>f.plot()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="invnorm-function" class="level2">
<h2 class="anchored" data-anchor-id="invnorm-function">INVNORM Function</h2>
<p>The INVNORM operator calculates the inverse of the NORMALCDF function (see below).</p>
<p>Parameter is the <code>probability p</code> (any value between 0 and 1).</p>
<p>Example:</p>
<div class="cell" data-execution_count="42">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>m<span class="op">=</span> Model(starttime<span class="op">=-</span><span class="fl">0.5</span>,stoptime<span class="op">=</span><span class="dv">1</span>,dt<span class="op">=</span><span class="fl">0.1</span>)</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>f <span class="op">=</span> m.flow(name<span class="op">=</span><span class="st">"invnorm"</span>)</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>p <span class="op">=</span> sd.time()</span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a>f.equation <span class="op">=</span> sd.invnorm(p)</span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a>f.plot()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="logistic-function" class="level2">
<h2 class="anchored" data-anchor-id="logistic-function">LOGISTIC Function</h2>
<p>The LOGISTIC operator generates a series of random numbers that conforms to a logistic distribution with a specified <code>mean</code> and <code>scale</code>.</p>
<p>Example:</p>
<div class="cell" data-execution_count="43">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>m<span class="op">=</span> Model(starttime<span class="op">=-</span><span class="dv">1</span>,stoptime<span class="op">=</span><span class="dv">10</span>,dt<span class="op">=</span><span class="fl">0.1</span>)</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>f <span class="op">=</span> m.flow(name<span class="op">=</span><span class="st">"logistic"</span>)</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>mean <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>scale <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>f.equation <span class="op">=</span> sd.logistic(mean, scale)</span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>f.plot()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="lognormal-function" class="level2">
<h2 class="anchored" data-anchor-id="lognormal-function">LOGNORMAL Function</h2>
<p>The LOGNORMAL operator generates a series of random numbers that conform to a Log-Normal distribution (that is, the log of the independent variable follows a normal distribution) with a specified mean and stddev (standard deviation). LOGNORMAL samples a new random number in each iteration of a simulation.</p>
<p>Arguments are <code>mean</code> and <code>standard deviation</code></p>
<p>Example:</p>
<div class="cell" data-execution_count="44">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>m<span class="op">=</span> Model(starttime<span class="op">=</span><span class="dv">0</span>,stoptime<span class="op">=</span><span class="dv">10</span>,dt<span class="op">=</span><span class="fl">0.1</span>)</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>f <span class="op">=</span> m.flow(name<span class="op">=</span><span class="st">"lognormal"</span>)</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>mean <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>stdev <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>f.equation <span class="op">=</span> sd.lognormal(mean, stdev)</span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>f.plot()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="montecarlo-function" class="level2">
<h2 class="anchored" data-anchor-id="montecarlo-function">MONTECARLO Function</h2>
<p>The MONTECARLO operator randomly generates a series of zeros and ones from a Bernoulli distribution based on the probability you’ve provided. The probability is the percentage probability of an event happening per unit of simulation time. The probability value can be either a variable or a constant, but should evaluate to a number between 0 and 100.</p>
<p>MONTECARLO is equivalent to the following logic:</p>
<p>IF (RANDOM(0,100,<seed>) &lt; probability*DT THEN 1 ELSE 0</seed></p>
<p>Example:</p>
<div class="cell" data-execution_count="45">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>m<span class="op">=</span> Model(starttime<span class="op">=</span><span class="dv">0</span>,stoptime<span class="op">=</span><span class="dv">10</span>,dt<span class="op">=</span><span class="fl">0.1</span>)</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>f <span class="op">=</span> m.flow(name<span class="op">=</span><span class="st">"montecarlo"</span>)</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>probability <span class="op">=</span> <span class="dv">50</span></span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>f.equation <span class="op">=</span> sd.montecarlo(probability)</span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>f.plot()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="normal-function" class="level2">
<h2 class="anchored" data-anchor-id="normal-function">NORMAL Function</h2>
<p>The NORMAL operator generates a series of normally distributed random numbers with a specified mean and stddev (standard deviation).</p>
<p>Arguments are <code>mean</code> and the <code>standard deviation</code> of the underlying normal distribution.</p>
<p>Example:</p>
<div class="cell" data-execution_count="46">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>m<span class="op">=</span> Model(starttime<span class="op">=</span><span class="dv">0</span>,stoptime<span class="op">=</span><span class="dv">10</span>,dt<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>f <span class="op">=</span> m.flow(name<span class="op">=</span><span class="st">"normal"</span>)</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>mean <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>stdev <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>f.equation <span class="op">=</span> sd.normal(mean, stdev)</span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a>f.plot()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="normalcdf-function" class="level2">
<h2 class="anchored" data-anchor-id="normalcdf-function">NORMALCDF Function</h2>
<p>The NORMALCDF operator calculates the cumulative Normal distribution function between the specified z-scores, or, when the mean and stddev (standard deviation) are given, between two data values.</p>
<p>Arguments are the <code>left</code> and <code>right</code> boundaries and optionally <code>mean</code> and <code>stddev</code>. If not given, mean will be set to 0, stddev to 1.</p>
<p>A really simple example:</p>
<div class="cell" data-execution_count="47">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>m<span class="op">=</span> Model(starttime<span class="op">=-</span><span class="dv">4</span>,stoptime<span class="op">=</span><span class="dv">4</span>,dt<span class="op">=</span><span class="fl">0.1</span>)</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>f <span class="op">=</span> m.flow(name<span class="op">=</span><span class="st">"normalCDF"</span>)</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>left <span class="op">=</span> <span class="op">-</span><span class="dv">4</span></span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>right <span class="op">=</span> sd.time()</span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>mean <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>stddev <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a>f.equation <span class="op">=</span> sd.normalcdf(left, right, mean, stddev)</span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a>f.plot()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="pareto-function" class="level2">
<h2 class="anchored" data-anchor-id="pareto-function">PARETO Function</h2>
<p>The PARETO operator generates a series of random numbers that conforms to a distribution whose log is exponentially distributed with a specified shape and scale</p>
<p>Arguments are <code>shape</code> and <code>scale</code>.</p>
<p>Example:</p>
<div class="cell" data-execution_count="48">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>m<span class="op">=</span> Model(starttime<span class="op">=</span><span class="dv">1</span>,stoptime<span class="op">=</span><span class="dv">10</span>,dt<span class="op">=</span><span class="fl">0.1</span>)</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>f <span class="op">=</span> m.flow(name<span class="op">=</span><span class="st">"pareto"</span>)</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>shape <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>scale <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>f.equation <span class="op">=</span> sd.pareto(shape, scale)</span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>f.plot()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="permutations" class="level2">
<h2 class="anchored" data-anchor-id="permutations">PERMUTATIONS</h2>
<p>The PERMUTATIONS operator calculates the number of permutations of an n-element set with r-element subsets.</p>
<p>Arguments are <code>n</code> and <code>r</code>. Note that both numbers should be integer values and must follow n &gt;= r &gt;= 0.</p>
<p>Example:</p>
<div class="cell" data-execution_count="49">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>m<span class="op">=</span> Model(starttime<span class="op">=</span><span class="dv">1</span>,stoptime<span class="op">=</span><span class="dv">10</span>,dt<span class="op">=</span><span class="fl">0.1</span>)</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>f <span class="op">=</span> m.flow(name<span class="op">=</span><span class="st">"permutations"</span>)</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>n <span class="op">=</span> <span class="fl">7.0</span></span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>r <span class="op">=</span> <span class="dv">3</span></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>f.equation <span class="op">=</span> sd.permutations(n, r)</span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>f.plot()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="poisson-function" class="level2">
<h2 class="anchored" data-anchor-id="poisson-function">POISSON Function</h2>
<p>The POISSON operator generates a series of random numbers that conform to a Poisson distribution. The mean value of the output is mu * DT.</p>
<p>Only argument is <code>mu</code>, a float or integer number or any operator that returns a number.</p>
<p>Example (with an increasing <code>mu</code> expressed as the current simulation time):</p>
<div class="cell" data-execution_count="50">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>m<span class="op">=</span> Model(starttime<span class="op">=</span><span class="dv">1</span>,stoptime<span class="op">=</span><span class="dv">10</span>,dt<span class="op">=</span><span class="fl">0.1</span>)</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>f <span class="op">=</span> m.flow(name<span class="op">=</span><span class="st">"poisson"</span>)</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>mu <span class="op">=</span> sd.time()</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>f.equation <span class="op">=</span> sd.poisson(mu)</span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a>f.plot()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="random-uniform-function" class="level2">
<h2 class="anchored" data-anchor-id="random-uniform-function">RANDOM / UNIFORM Function</h2>
<p>RANDOM and UNIFORM both draw a random number between a minimum and maximum value that conforms to a uniform distribution. For compatibility to modelling practices, we included both into the SD DSL (just as the Stella Architect builtins).</p>
<p>Arguments are the <code>min_value</code> and <code>max_value</code> between which the random number should lie. If not given, the random number is between 0 and 1.</p>
<p>Simple example where the number always lies between DT and the current simulation time:</p>
<div class="cell" data-execution_count="51">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>m<span class="op">=</span> Model(starttime<span class="op">=</span><span class="dv">1</span>,stoptime<span class="op">=</span><span class="dv">10</span>,dt<span class="op">=</span><span class="fl">0.1</span>)</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>f <span class="op">=</span> m.flow(name<span class="op">=</span><span class="st">"uniform / random"</span>)</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>min_value <span class="op">=</span> <span class="fl">0.1</span></span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>max_value <span class="op">=</span> sd.time()</span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>f.equation <span class="op">=</span> sd.random(min_value, max_value)</span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a>f.plot()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="triangular-function" class="level2">
<h2 class="anchored" data-anchor-id="triangular-function">TRIANGULAR Function</h2>
<p>The TRIANGULAR operator generates a series of random numbers that conforms to a triangular distribution with a specified <code>lower bound</code>, <code>mode</code>, and <code>upper bound</code>.</p>
<p>A simple example with the current simulation time as upper bound:</p>
<div class="cell" data-execution_count="52">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>m<span class="op">=</span> Model(starttime<span class="op">=</span><span class="dv">1</span>,stoptime<span class="op">=</span><span class="dv">10</span>,dt<span class="op">=</span><span class="fl">0.1</span>)</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>f <span class="op">=</span> m.flow(name<span class="op">=</span><span class="st">"triangular"</span>)</span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>lower_bound <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>mode <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a>upper_bound <span class="op">=</span> sd.time()</span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a>f.equation <span class="op">=</span> sd.triangular(lower_bound, mode, upper_bound)</span>
<span id="cb52-8"><a href="#cb52-8" aria-hidden="true" tabindex="-1"></a>f.plot()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="weibull-function" class="level2">
<h2 class="anchored" data-anchor-id="weibull-function">WEIBULL Function</h2>
<p>The WEIBULL operator generates a series of random numbers that conforms to a Weibull distribution with the specified <code>shape</code> and <code>scale</code>.</p>
<p>Let’s create a quick example with <code>scale</code> set to the current simulation time:</p>
<div class="cell" data-execution_count="53">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>m<span class="op">=</span> Model(starttime<span class="op">=</span><span class="dv">1</span>,stoptime<span class="op">=</span><span class="dv">10</span>,dt<span class="op">=</span><span class="fl">0.1</span>)</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>f <span class="op">=</span> m.flow(name<span class="op">=</span><span class="st">"weibull"</span>)</span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>shape <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>scale <span class="op">=</span> sd.time()</span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>f.equation <span class="op">=</span> sd.weibull(shape, scale)</span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a>f.plot()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../../../sd-dsl/in-depth/in_depth_simple_python_library_sd_dsl/in_depth_simple_python_library_sd_dsl.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">BPTK for System Dynamics</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../../../sd-dsl/how-to/how_to_sd_user_defined_functions/how_to_sd_user_defined_functions.html" class="pagination-link">
        <span class="nav-page-text">User-defined functions</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
      <div class="nav-footer-center">© Copyright 2022, transentis labs GmbH.</div>
  </div>
</footer>



</body></html>